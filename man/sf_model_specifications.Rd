% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stochastic_frontier-core.R
\name{sf_model_specifications}
\alias{sf_model_specifications}
\title{Build Model Specifications}
\usage{
sf_model_specifications(
  data,
  distforms = sf_functional_forms()$distforms,
  fxnforms = sf_functional_forms()$fxnforms,
  technology_variables,
  mainF = 2,
  mainD = 1,
  demographic_variables = c("Female", "Region", "Ecozon", "EduCat", "EduLevel", "AgeCat"),
  crop_list = c("Beans", "Cassava", "Cocoa", "Cocoyam", "Maize", "Millet", "Okra",
    "Palm", "Peanut", "Pepper", "Plantain", "Rice", "Sorghum", "Tomatoe", "Yam")
)
}
\arguments{
\item{data}{data.frame or data.table.
A dataset that (ideally) contains the columns named in \code{demographic_variables}.
\strong{Note:} The current implementation references a global object \code{DATA}
(not \code{data}) when deriving demographic levels; ensure \code{DATA} exists
with those columns or adapt your environment accordingly.}

\item{distforms}{named \code{list} of distributional forms.
If \code{NULL}, defaults to \code{functional_forms()$distforms}.}

\item{fxnforms}{named \code{list} of functional forms.
If \code{NULL}, defaults to \code{functional_forms()$fxnforms}.}

\item{technology_variables}{\code{character} vector of technology variables.
The first element is taken as the default/primary technology.}

\item{mainF}{\code{integer} index of the preferred functional form (in \code{fxnforms}).
Default is \code{2}.}

\item{mainD}{\code{integer} index of the preferred distribution (in \code{distforms}).
Default is \code{1}.}

\item{demographic_variables}{\code{character} vector of column names used for
demographic disaggregation. Defaults to
\code{c("Female","Region","Ecozon","EduCat","EduLevel","AgeCat")}.}

\item{crop_list}{\code{character} vector of crop names for crop-level
disaggregation. Defaults to a selection of common crops.}
}
\value{
A \code{data.frame} (data.table-compatible) of model specifications with
columns \code{disasg}, \code{level}, \code{TechVar}, \code{f}, \code{d}, and \code{matching_type}.
}
\description{
Construct a specification table for frontier analysis by
combining alternative production-function forms and distributional
assumptions with technology choices and disaggregation levels.
The function first creates a pooled grid of functional forms (\code{fxnforms})
and distributions (\code{distforms}), then augments it with crop-specific and
demographic splits, and finally expands technology choices.
}
\details{
\strong{Procedure (high level):}
\enumerate{
\item Build a pooled grid of all \code{fxnforms} * \code{distforms}.
\item Keep rows matching \code{mainF} and \code{mainD} and tag pooled specs.
\item Add crop-specific rows for \code{crop_list} (using the main form/dist).
\item Add demographic splits for each variable in \code{demographic_variables},
using unique levels in \code{DATA[, var]} (see note in \emph{Warning}).
\item Set \code{TechVar} to the first element of \code{technology_variables};
if additional technology variables are provided, add pooled rows for them
with the main form/dist.
\item Reorder to prioritize \code{mainD} and create an \code{matching_type} flag with
values \code{"fullset"} and \code{"optimal"}.
\item Remove demographic rows for the default demographic list and retain only
\code{level == "Pooled"} in the final output.
}

\strong{Returned columns} (final table):
\itemize{
\item \code{disasg} - disaggregation variable (e.g., \code{"CropID"}).
\item \code{level} - disaggregation level (e.g., \code{"Pooled"} or a crop/level).
\item \code{TechVar} - selected technology variable.
\item \code{f} - index of functional form (position in \code{fxnforms}).
\item \code{d} - index of distribution (position in \code{distforms}).
\item \code{matching_type} - marker column (\code{"fullset"} / \code{"optimal"}).
}
}
\section{Warning}{

The function calls \code{unique(DATA[, w])} inside a \code{tryCatch}; this
requires a global object \code{DATA} containing the demographic columns.
If \code{DATA} is absent or lacks a given variable, that split is skipped.
}

\section{Assumptions}{

\itemize{
\item \code{technology_variables} is non-empty; its first element is the default.
\item \code{mainF} and \code{mainD} are valid indices within \code{fxnforms}
and \code{distforms}, respectively.
}
}

\seealso{
Other frontier analysis: 
\code{\link{equation_editor}()},
\code{\link{fit_organizer}()},
\code{\link{msf_workhorse}()},
\code{\link{sf_functional_forms}()},
\code{\link{sf_workhorse}()},
\code{\link{sfaR_summary}()}
}
\concept{frontier analysis}
