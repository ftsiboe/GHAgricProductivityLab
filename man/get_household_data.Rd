% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_household_data.R
\name{get_household_data}
\alias{get_household_data}
\title{Download and Load Harmonized Household Data from the GHAgricProductivityLab Repository}
\usage{
get_household_data(
  dataset = "harmonized_crop_farmer_data",
  github_token = NULL
)
}
\arguments{
\item{dataset}{Character string.
Base name of the dataset to retrieve (without file extension).
Must correspond to a \code{.dta} file in the \code{hh_data} GitHub release
(e.g., \code{"harmonized_crop_farmer_data"}).}

\item{github_token}{Optional GitHub personal access token (PAT).
If \code{NULL}, the function checks the environment variable \code{GHProdLab_TOKEN}.
If that is also missing, the piggyback download will use default
authentication behavior.}
}
\value{
A \code{data.frame} containing the requested harmonized dataset.
}
\description{
Retrieves a harmonized household- or farm-level dataset from the
\strong{GHAgricProductivityLab} GitHub repository using \strong{piggyback}, stores it
in a package-specific cache directory, and returns the dataset as a
\code{data.frame}. The file is downloaded only once and reused from the local
cache on future calls.
}
\details{
The function downloads a Stata \code{.dta} file associated with the chosen dataset
from the GitHub release labeled \code{hh_data}. It uses the package-specific
cache directory determined by:

\preformatted{
tools::R_user_dir("GHAgricProductivityLab", which = "cache")
}

If the file already exists locally, it is not re-downloaded.

\strong{GitHub Authentication}
\itemize{
\item If \code{github_token} is supplied, it is used.
\item Otherwise, the function looks for environment variable \code{GHProdLab_TOKEN}.
\item If neither is available, the function falls back to default GitHub
credentials (e.g., from \code{gh} CLI or cached credentials).
}
}
