% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{compute_jenks_binned_shares}
\alias{compute_jenks_binned_shares}
\title{Compute Jenks-Binned Shares by Aggregation Groups}
\usage{
compute_jenks_binned_shares(
  dt,
  output_variable,
  aggregation_points,
  jenks = NULL,
  jenks_number = NULL,
  weight_variable = NULL
)
}
\arguments{
\item{dt}{A \code{data.table} containing the data.}

\item{output_variable}{Character name of the numeric column to bin.}

\item{aggregation_points}{Character vector of grouping variables
(e.g., \code{"region"}, \code{"district"}, \code{"grid_id"}).}

\item{jenks}{Optional numeric vector of breakpoints.
If \code{NULL}, Jenks breaks are computed automatically.}

\item{jenks_number}{Integer number of Jenks classes to compute
when \code{jenks} is \code{NULL}.}

\item{weight_variable}{Optional character name of a weighting column.
If \code{NULL}, a weight of \code{1} is assumed for each row.}
}
\value{
A \code{data.table} with:
\itemize{
\item grouping variables
\item \code{binned_range_name} – character label of the Jenks bin
\item \code{binned_range_level} – numeric factor level of the bin
\item \code{estimate_count} – share of counts within the group
\item \code{estimate_weight} – share of weights within the group
}
}
\description{
This function bins a numeric variable using Jenks (Fisher) natural breaks
and computes the relative share of \emph{counts} and/or \emph{weights} within each
aggregation group across the binned ranges.

It is useful for summarizing the distribution of a variable (e.g., dealer
density, yield, acreage, distances) across spatial or categorical groups.
}
\details{
Internally the function:
\enumerate{
\item Computes Jenks natural breaks (if not provided)
\item Creates \code{count} and \code{weight} totals within each bin × group
\item Merges with total counts/weights per group
\item Computes shares
}
}
\seealso{
Other helpers: 
\code{\link{get_crop_area_list}()},
\code{\link{harmonized_data_prep}()}
}
\concept{helpers}
